var K=Object.defineProperty;var _=(c,e,t)=>e in c?K(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t;var r=(c,e,t)=>(_(c,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();const Q="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20version='1.1'%20id='Icons'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2032%2032'%20style='enable-background:new%200%200%2032%2032;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:none;stroke:%23000000;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}%20%3c/style%3e%3cpath%20style='fill:blue;'%20d='M31,16h-2v-2c0-0.6-0.4-1-1-1h-2v-2c0-0.6-0.4-1-1-1h-2V8h2c0.6,0,1-0.4,1-1V4c0-0.6-0.4-1-1-1h-3c-0.6,0-1,0.4-1,1v2h-2%20c-0.6,0-1,0.4-1,1v3h-4V7c0-0.6-0.4-1-1-1h-2V4c0-0.6-0.4-1-1-1H7C6.4,3,6,3.4,6,4v3c0,0.6,0.4,1,1,1h2v2H7c-0.6,0-1,0.4-1,1v2H4%20c-0.6,0-1,0.4-1,1v2H1c-0.6,0-1,0.4-1,1v9c0,0.6,0.4,1,1,1h3c0.6,0,1-0.4,1-1v-5h1v5c0,0.6,0.4,1,1,1h2v2c0,0.6,0.4,1,1,1h4%20c0.6,0,1-0.4,1-1v-3c0-0.6-0.4-1-1-1h-3v-1h10v1h-3c-0.6,0-1,0.4-1,1v3c0,0.6,0.4,1,1,1h4c0.6,0,1-0.4,1-1v-2h2c0.6,0,1-0.4,1-1v-5%20h1v5c0,0.6,0.4,1,1,1h3c0.6,0,1-0.4,1-1v-9C32,16.4,31.6,16,31,16z%20M14,19c0,0.6-0.4,1-1,1h-3c-0.6,0-1-0.4-1-1v-3c0-0.6,0.4-1,1-1%20h3c0.6,0,1,0.4,1,1V19z%20M23,19c0,0.6-0.4,1-1,1h-3c-0.6,0-1-0.4-1-1v-3c0-0.6,0.4-1,1-1h3c0.6,0,1,0.4,1,1V19z'/%3e%3c/svg%3e",X="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20version='1.1'%20id='Icons'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2032%2032'%20style='enable-background:new%200%200%2032%2032;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:none;stroke:%23000000;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}%20%3c/style%3e%3cpath%20style='fill:red;'%20d='M31,16h-2v-2c0-0.6-0.4-1-1-1h-2v-2c0-0.6-0.4-1-1-1h-2V8h2c0.6,0,1-0.4,1-1V4c0-0.6-0.4-1-1-1h-3c-0.6,0-1,0.4-1,1v2h-2%20c-0.6,0-1,0.4-1,1v3h-4V7c0-0.6-0.4-1-1-1h-2V4c0-0.6-0.4-1-1-1H7C6.4,3,6,3.4,6,4v3c0,0.6,0.4,1,1,1h2v2H7c-0.6,0-1,0.4-1,1v2H4%20c-0.6,0-1,0.4-1,1v2H1c-0.6,0-1,0.4-1,1v9c0,0.6,0.4,1,1,1h3c0.6,0,1-0.4,1-1v-5h1v5c0,0.6,0.4,1,1,1h2v2c0,0.6,0.4,1,1,1h4%20c0.6,0,1-0.4,1-1v-3c0-0.6-0.4-1-1-1h-3v-1h10v1h-3c-0.6,0-1,0.4-1,1v3c0,0.6,0.4,1,1,1h4c0.6,0,1-0.4,1-1v-2h2c0.6,0,1-0.4,1-1v-5%20h1v5c0,0.6,0.4,1,1,1h3c0.6,0,1-0.4,1-1v-9C32,16.4,31.6,16,31,16z%20M14,19c0,0.6-0.4,1-1,1h-3c-0.6,0-1-0.4-1-1v-3c0-0.6,0.4-1,1-1%20h3c0.6,0,1,0.4,1,1V19z%20M23,19c0,0.6-0.4,1-1,1h-3c-0.6,0-1-0.4-1-1v-3c0-0.6,0.4-1,1-1h3c0.6,0,1,0.4,1,1V19z'/%3e%3c/svg%3e",J="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20version='1.1'%20id='Icons'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2032%2032'%20style='enable-background:new%200%200%2032%2032;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:none;stroke:%23000000;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}%20%3c/style%3e%3cpath%20style='fill:green;'%20d='M31,16h-2v-2c0-0.6-0.4-1-1-1h-2v-2c0-0.6-0.4-1-1-1h-2V8h2c0.6,0,1-0.4,1-1V4c0-0.6-0.4-1-1-1h-3c-0.6,0-1,0.4-1,1v2h-2%20c-0.6,0-1,0.4-1,1v3h-4V7c0-0.6-0.4-1-1-1h-2V4c0-0.6-0.4-1-1-1H7C6.4,3,6,3.4,6,4v3c0,0.6,0.4,1,1,1h2v2H7c-0.6,0-1,0.4-1,1v2H4%20c-0.6,0-1,0.4-1,1v2H1c-0.6,0-1,0.4-1,1v9c0,0.6,0.4,1,1,1h3c0.6,0,1-0.4,1-1v-5h1v5c0,0.6,0.4,1,1,1h2v2c0,0.6,0.4,1,1,1h4%20c0.6,0,1-0.4,1-1v-3c0-0.6-0.4-1-1-1h-3v-1h10v1h-3c-0.6,0-1,0.4-1,1v3c0,0.6,0.4,1,1,1h4c0.6,0,1-0.4,1-1v-2h2c0.6,0,1-0.4,1-1v-5%20h1v5c0,0.6,0.4,1,1,1h3c0.6,0,1-0.4,1-1v-9C32,16.4,31.6,16,31,16z%20M14,19c0,0.6-0.4,1-1,1h-3c-0.6,0-1-0.4-1-1v-3c0-0.6,0.4-1,1-1%20h3c0.6,0,1,0.4,1,1V19z%20M23,19c0,0.6-0.4,1-1,1h-3c-0.6,0-1-0.4-1-1v-3c0-0.6,0.4-1,1-1h3c0.6,0,1,0.4,1,1V19z'/%3e%3c/svg%3e";class I{constructor({position:e,velocity:t,radio:o,color:s,fades:i}){r(this,"position");r(this,"velocity");r(this,"radio");r(this,"color");r(this,"opacity");r(this,"fades");this.position=e,this.velocity=t,this.radio=o??0,this.color=s,this.opacity=1,this.fades=i??!1}update(){this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.fades||(this.opacity+=-.01)}getPosition(){return[this.position.x,this.position.y]}updatePosition({x:e,y:t}){this.position.x=e??this.position.x,this.position.y=t??this.position.y}getRadio(){return this.radio}getOpacity(){return this.opacity}getColor(){return this.color}getVolicity(){return[this.velocity.x,this.velocity.y]}}const $=document.querySelector("canvas"),v=$.getContext("2d");class ee extends I{constructor({position:t,velocity:o,color:s}){super({position:t,velocity:o,color:s});r(this,"width");r(this,"height");this.width=8,this.height=12}draw(){const[t,o]=super.getPosition();v.beginPath(),v.moveTo(t-this.width,o),v.lineTo(t+this.width,o),v.lineTo(t,o+this.height),v.closePath(),v.fillStyle=super.getColor(),v.fill()}updateInvaderProjectile(){this.draw(),super.update()}getDimentions(){return[this.width,this.height]}shootPlayer(t){const[o,s]=t.getPosition(),[i,n]=t.getDimentions(),[l,h]=this.getPosition(),[w,u]=this.getDimentions();return h>=$.height?{shoot:!1,outScreen:!0}:h+u>=s&&h<=s+n&&l+2*w>=o&&l<=o+i?{shoot:!0,outScreen:!1}:{shoot:!1,outScreen:!1}}}const te=document.querySelector("canvas"),d=te.getContext("2d");class oe extends I{constructor({position:e,velocity:t,radio:o,color:s,fades:i}){super({position:e,velocity:t,radio:o,color:s,fades:i})}draw(){const[e,t]=super.getPosition();d.save(),d.globalAlpha=super.getOpacity(),d.beginPath(),d.arc(e,t,super.getRadio(),0,2*Math.PI),d.fillStyle=super.getColor(),d.fill(),d.closePath(),d.restore()}updateExplotion(){this.draw(),super.update()}}const V=document.querySelector("canvas");class R{constructor({position:e,img:t,color:o,scale:s}){r(this,"particlesExplotions",[]);r(this,"destroid",!1);r(this,"color");r(this,"velocity");r(this,"opacity");r(this,"width",0);r(this,"height",0);r(this,"image");r(this,"position");this.color=o,this.velocity={x:0,y:0},this.opacity=1,this.position={x:0,y:0},this.image=new Image,this.image.src=t,this.image.onload=()=>{this.width=this.image.width*s,this.height=this.image.height*s,this.position={x:(e==null?void 0:e.x)??V.width/2-this.width/2,y:(e==null?void 0:e.y)??V.height-this.height-20}}}update({velocity:e,opacity:t,dimentions:o}){this.image&&(this.velocity.x=(e==null?void 0:e.x)??this.velocity.x,this.velocity.y=(e==null?void 0:e.y)??this.velocity.y,this.velocity.x&&(this.position.x+=this.velocity.x),this.velocity.y&&(this.position.y+=this.velocity.y),this.opacity=t??this.opacity,this.width=(o==null?void 0:o.w)??this.width,this.height=(o==null?void 0:o.h)??this.height)}getPosition(){return[this.position.x,this.position.y]}getDimentions(){return[this.width,this.height]}getOpacity(){return this.opacity}getImage(){return this.image}getColor(){return this.color}destroyship(){if(this.particlesExplotions.length==0&&!this.destroid){this.destroid=!0;const[e,t]=this.getPosition(),[o,s]=this.getDimentions();for(let i=0;i<10;i++)this.particlesExplotions.push(new oe({position:{x:e+o/2,y:t+s/2},velocity:{x:(Math.random()-.5)*2,y:(Math.random()-.5)*2},radio:Math.random()*3+3,color:this.getColor()}));return this.opacity=0,this.width=0,this.height=0,!1}return this.particlesExplotions.length>0?(this.particlesExplotions.forEach((e,t)=>{e.getOpacity()<=.01?this.particlesExplotions.splice(t,1):e.updateExplotion()}),!1):!0}}const se=document.querySelector("canvas"),ie=se.getContext("2d"),L=new Map;L.set("blue",Q);L.set("red",X);L.set("green",J);let H=.28;innerWidth<500&&(H=.2);class ce extends R{constructor({position:e,color:t}){super({position:e,img:L.get(t),color:t,scale:H})}draw(){const[e,t]=super.getPosition(),[o,s]=super.getDimentions();ie.drawImage(super.getImage(),e,t,o,s)}shoot(e){const[t,o]=super.getPosition(),[s,i]=super.getDimentions();e.push(new ee({position:{x:t+s/2,y:o+i},velocity:{x:0,y:5},color:super.getColor()}))}updateInvader({velocity:e,opacity:t,dimentions:o}){this.draw(),super.update({velocity:e,opacity:t,dimentions:o})}}const re=document.querySelector("canvas");class ne{constructor(){r(this,"position");r(this,"velocity");r(this,"invaders");r(this,"width");let e=Math.ceil(Math.random()*7+3);innerWidth<500&&(e=Math.ceil(Math.random()+3));let t=Math.ceil(Math.random()*4+2);innerWidth<500&&(t=Math.ceil(Math.random()*2+1));const o=["red","blue","green"],s=Math.floor(Math.random()*3)%3;this.position={x:0,y:0},this.velocity={x:3,y:0},this.invaders=[],this.width=50*e;for(let i=0;i<t;i++)for(let n=0;n<e;n++)this.invaders.push(new ce({position:{x:50*n,y:40*i},color:o[s]}))}update(){this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.velocity.y=0,(this.position.x>=re.width-this.width||this.position.x<=0)&&(this.velocity.x=-this.velocity.x,this.velocity.y=40)}getInvader(e){return this.invaders[e]}deleteInvader(e){this.invaders.splice(e,1)}getLength(){return this.invaders.length}getAllInvaders(){return this.invaders}getVelocity(){return this.velocity}}const S=document.querySelector("canvas"),g=S.getContext("2d");class ae{constructor(){r(this,"stars",[]);for(let e=0;e<100;e++)this.stars.push(new I({position:{x:Math.random()*S.width,y:Math.random()*S.height},velocity:{x:0,y:1},radio:Math.random()*3,color:"white",fades:!0}))}draw(){for(const e of this.stars){const[t,o]=e.getPosition();g.save(),g.globalAlpha=e.getOpacity(),g.beginPath(),g.arc(t,o,e.getRadio(),0,2*Math.PI),g.fillStyle=e.getColor(),g.fill(),g.closePath(),g.restore()}}updateStar(){this.draw();for(const e of this.stars){const[,t]=e.getPosition(),o=e.getRadio();t-o>=S.height&&(e.updatePosition({x:Math.random()*S.width}),e.updatePosition({y:0})),e.update()}}}const he=["orangered","violet","crimson"],le=document.querySelector("canvas"),P=le.getContext("2d");class k extends I{constructor({position:e,velocity:t,colorNum:o}){super({position:e,velocity:t,radio:5,color:he[o]})}draw(){const[e,t]=super.getPosition();P.beginPath(),P.arc(e,t,super.getRadio(),0,2*Math.PI),P.closePath(),P.fillStyle=super.getColor(),P.fill()}updatePlayerProjectile(){this.draw(),super.update()}shootInvader(e){const[t,o]=e.getPosition(),[s,i]=e.getDimentions(),[n,l]=this.getPosition(),h=this.getRadio();return l+this.getRadio()<=0?{shoot:!1,outScreen:!0}:l>=o&&l+2*h<=o+i&&n>=t&&n+2*h<=t+s?{shoot:!0,outScreen:!1}:{shoot:!1,outScreen:!1}}}const de="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20width='1024px'%20height='1024px'%20viewBox='0%200%201024%201024'%20t='1569683657482'%20class='icon'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='13305'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cstyle%20type='text/css'%3e%3c/style%3e%3c/defs%3e%3cpath%20d='M952%20474H829.8C812.5%20327.6%20696.4%20211.5%20550%20194.2V72c0-4.4-3.6-8-8-8h-60c-4.4%200-8%203.6-8%208v122.2C327.6%20211.5%20211.5%20327.6%20194.2%20474H72c-4.4%200-8%203.6-8%208v60c0%204.4%203.6%208%208%208h122.2C211.5%20696.4%20327.6%20812.5%20474%20829.8V952c0%204.4%203.6%208%208%208h60c4.4%200%208-3.6%208-8V829.8C696.4%20812.5%20812.5%20696.4%20829.8%20550H952c4.4%200%208-3.6%208-8v-60c0-4.4-3.6-8-8-8zM512%20756c-134.8%200-244-109.2-244-244s109.2-244%20244-244%20244%20109.2%20244%20244-109.2%20244-244%20244z'%20p-id='13306'%3e%3c/path%3e%3cpath%20d='M512%20392c-32.1%200-62.1%2012.4-84.8%2035.2-22.7%2022.7-35.2%2052.7-35.2%2084.8s12.5%2062.1%2035.2%2084.8C449.9%20619.4%20480%20632%20512%20632s62.1-12.5%2084.8-35.2C619.4%20574.1%20632%20544%20632%20512s-12.5-62.1-35.2-84.8C574.1%20404.4%20544.1%20392%20512%20392z'%20p-id='13307'%3e%3c/path%3e%3c/svg%3e",O="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2016.0.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20width='60.731px'%20height='60.73px'%20viewBox='0%200%2060.731%2060.73'%20style='enable-background:new%200%200%2060.731%2060.73;'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpolygon%20points='0,30.365%2029.737,60.105%2029.737,42.733%2060.731,42.729%2060.731,18.001%2029.737,17.999%2029.737,0.625%20'/%3e%3c/g%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3c/svg%3e",D="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2018.1.1,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20155.139%20155.139'%20style='enable-background:new%200%200%20155.139%20155.139;'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpolygon%20style='fill:%23010002;'%20points='155.139,77.566%2079.18,1.596%2079.18,45.978%200,45.978%200,109.155%2079.18,109.155%2079.18,153.542%20'/%3e%3c/g%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3c/svg%3e",ge=(c,e,t,o,s)=>{if(innerWidth<500){if(o)return;if(document.querySelector("#mobil").innerHTML+=`
        <div id="mobil-controllers">
            <div>
                <button><img src=${O}></img></button>
                <button><img src=${D}></img></button>
            </div>
            <button><img src=${de}></img></button>
        </div>
        `,innerWidth<500){const i=document.querySelectorAll("#mobil button");i[0].addEventListener("touchstart",()=>{s.ArrowLeft=!0}),i[0].addEventListener("touchend",()=>{s.ArrowLeft=!1}),i[1].addEventListener("touchstart",()=>{s.ArrowRight=!0}),i[1].addEventListener("touchend",()=>{s.ArrowRight=!1}),i[2].addEventListener("touchstart",()=>{const[n,l]=c.getPosition(),[h,,]=c.getDimentions();e.push(new k({position:{x:n+h/2,y:l},velocity:{x:0,y:-10},colorNum:t}))})}}addEventListener("keydown",({key:i})=>{const[n,l]=c.getPosition(),[h]=c.getDimentions();if(!o)switch(i){case"a":case"ArrowLeft":s.ArrowLeft=!0;break;case"d":case"ArrowRight":s.ArrowRight=!0;break;case" ":{e.push(new k({position:{x:n+h/2,y:l},velocity:{x:0,y:-10},colorNum:t}));break}}}),addEventListener("keyup",({key:i})=>{switch(i){case"a":case"ArrowLeft":s.ArrowLeft=!1;break;case"d":case"ArrowRight":s.ArrowRight=!1;break}})},b=document.querySelector("canvas"),A=b.getContext("2d"),ue=(c,e)=>{document.querySelector("#app").innerHTML+=`
                    <div id="GO">
                        <h2>Game Over</h2>
                        <p>Your Score is: ${c} </p>
                        <button id="playAgain">Play Again</button>
                        <button id='ship'>Choose Ship</button>
                    </div>
                `,document.getElementById("ship").addEventListener("click",()=>{document.querySelector("#GO").remove(),document.querySelector("#scoreBox").remove(),innerWidth<500&&document.querySelector("#mobil-controllers").remove(),A.clearRect(0,0,b.width,b.height),W()}),document.querySelector("#playAgain").addEventListener("click",()=>{document.querySelector("#GO").remove(),document.querySelector("#scoreBox").remove(),innerWidth<500&&document.querySelector("#mobil-controllers").remove(),A.clearRect(0,0,b.width,b.height),z(e)})},C="/SpaceInvaders/assets/ship1-VEQGyDfZ.png",T="/SpaceInvaders/assets/ship2-oU9YVX3x.png",G="/SpaceInvaders/assets/ship3-OZ7tiwK6.png",pe=[C,T,G],ve=["orangered","violet","crimson"],B=document.querySelector("canvas"),y=B.getContext("2d");let j=.3;innerWidth<500&&(j=.2);class ye extends R{constructor(t){super({img:pe[t],color:ve[t],scale:j});r(this,"rotation");this.rotation=0}draw(){const[t,o]=super.getPosition(),[s,i]=super.getDimentions();y.save(),y.globalAlpha=super.getOpacity(),y.translate(t+s/2,o+i/2),y.rotate(this.rotation),y.translate(-t-s/2,-o-i/2),y.drawImage(super.getImage(),t,o,s,i),y.restore()}UpdatePlayer({velocity:t,opacity:o,dimentions:s}){super.update({velocity:t,opacity:o,dimentions:s}),this.draw()}updateRotation(t){this.rotation=t}playerMoveZone(t){const[o]=this.getDimentions(),[s]=this.getPosition();t.ArrowLeft&&s>=0?(this.UpdatePlayer({velocity:{x:-7,y:0}}),this.updateRotation(-.2)):t.ArrowRight&&s<=B.width-o?(this.UpdatePlayer({velocity:{x:7,y:0}}),this.updateRotation(.2)):(this.UpdatePlayer({velocity:{x:0,y:0}}),this.updateRotation(0))}}const m=document.querySelector("canvas"),q=m.getContext("2d");m.width=innerWidth;m.height=innerHeight;innerWidth<500&&(m.height=innerHeight-2*80);const z=c=>{const e={over:!1,active:!0},t={ArrowLeft:!1,ArrowRight:!1},o=new ye(c),s=[];let i=[],n=[];const l=new ae;let h=0,w=Math.ceil(Math.random()*500+400);const u=[];let M=0;document.querySelector("#app").innerHTML+=`
    <div id="scoreBox">Score: <span id="score">${M}</span></div>
    `;const U=document.querySelector("#score");ge(o,s,c,e.over,t);function E(){if(e.active){requestAnimationFrame(E),q.fillStyle="black",q.fillRect(0,0,m.width,m.height),l.updateStar(),o.playerMoveZone(t),o.UpdatePlayer({}),n.forEach((a,x)=>{const{shoot:p,outScreen:f}=a.shootPlayer(o);p||f?n.splice(x,1):a.updateInvaderProjectile(),p&&!e.over&&(e.over=!0,u.push(o),setTimeout(()=>{e.active=!1,ue(M,c)},2e3))}),s.forEach((a,x)=>{const[,p]=a.getPosition();p+a.getRadio()<=0?s.splice(x,1):a.updatePlayerProjectile()}),i.forEach((a,x)=>{a.update();const p=a.getLength();h%50==0&&p>0&&a.getInvader(Math.floor(Math.random()*p)).shoot(n),a.getAllInvaders().forEach((f,N)=>{f.updateInvader({velocity:a.getVelocity()}),s.forEach((Y,Z)=>{const{shoot:F}=Y.shootInvader(f);F&&(s.splice(Z,1),u.push(f),a.deleteInvader(N),M+=100,U.innerHTML=String(M))})}),a.getLength()==0&&i.splice(x,1),i.length===0&&(h=w-1)});for(const a in u)u[Number(a)].destroyship()&&u.splice(Number(a),1);h%w==0&&(i.push(new ne),w=Math.ceil(Math.random()*500+800),h=0),h++}}E()},W=()=>{document.querySelector("#app").innerHTML+=`
      <div id='selector'>
        <h2>Select your ship:</h2>
        <div class='card'><img src=${C}></img></div>
        <div id='btn-sele'>
          <button><img src=${O}></img></button>
          <button>Play</button>
          <button><img src=${D}></img></button>
        <div/>
      <div/>
  `;let c=0;const e=[C,T,G],t=document.querySelector(".card"),o=document.querySelectorAll("#btn-sele>button");o[0].addEventListener("click",()=>{t.innerHTML=`<img class='shipOutRight' src=${e[c]}></img>`,c==0&&(c=3),c--,t.innerHTML+=`<img class='shipInRight' src=${e[c]}></img>`,setTimeout(()=>{document.querySelector(".shipOutRight").remove()},500)}),o[2].addEventListener("click",()=>{t.innerHTML=`<img class='shipOutLeft' src=${e[c]}></img>`,c=(c+1)%3,t.innerHTML+=`<img class='shipInLeft' src=${e[c]}></img>`,setTimeout(()=>{document.querySelector(".shipOutLeft").remove()},500)}),o[1].addEventListener("click",()=>{document.querySelector("#selector").remove(),z(c)})};W();
