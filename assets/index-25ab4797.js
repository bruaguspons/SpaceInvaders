var z=Object.defineProperty;var J=(r,t,e)=>t in r?z(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var n=(r,t,e)=>(J(r,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();const Q="/SpaceInvaders/assets/invaderB-2782931f.svg",X="/SpaceInvaders/assets/invaderR-171df9da.svg",_="/SpaceInvaders/assets/invaderG-80524a85.svg";class L{constructor({position:t,velocity:e,radio:o,color:i,fades:s}){n(this,"position");n(this,"velocity");n(this,"radio");n(this,"color");n(this,"opacity");n(this,"fades");this.position=t,this.velocity=e,this.radio=o??0,this.color=i,this.opacity=1,this.fades=s??!1}update(){this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.fades||(this.opacity+=-.01)}getPosition(){return[this.position.x,this.position.y]}updatePosition({x:t,y:e}){this.position.x=t??this.position.x,this.position.y=e??this.position.y}getRadio(){return this.radio}getOpacity(){return this.opacity}getColor(){return this.color}getVolicity(){return[this.velocity.x,this.velocity.y]}}const C=document.querySelector("canvas"),y=C.getContext("2d");class tt extends L{constructor({position:e,velocity:o,color:i}){super({position:e,velocity:o,color:i});n(this,"width");n(this,"height");this.width=8,this.height=12}draw(){const[e,o]=super.getPosition();y.beginPath(),y.moveTo(e-this.width,o),y.lineTo(e+this.width,o),y.lineTo(e,o+this.height),y.closePath(),y.fillStyle=super.getColor(),y.fill()}updateInvaderProjectile(){this.draw(),super.update()}getDimentions(){return[this.width,this.height]}shootPlayer(e){const[o,i]=e.getPosition(),[s,a]=e.getDimentions(),[l,h]=this.getPosition(),[f,g]=this.getDimentions();return h>=C.height?{shoot:!1,outScreen:!0}:h+g>=i&&h<=i+a&&l+2*f>=o&&l<=o+s?{shoot:!0,outScreen:!1}:{shoot:!1,outScreen:!1}}}const et=document.querySelector("canvas"),d=et.getContext("2d");class ot extends L{constructor({position:t,velocity:e,radio:o,color:i,fades:s}){super({position:t,velocity:e,radio:o,color:i,fades:s})}draw(){const[t,e]=super.getPosition();d.save(),d.globalAlpha=super.getOpacity(),d.beginPath(),d.arc(t,e,super.getRadio(),0,2*Math.PI),d.fillStyle=super.getColor(),d.fill(),d.closePath(),d.restore()}updateExplotion(){this.draw(),super.update()}}const R=document.querySelector("canvas");class T{constructor({position:t,img:e,color:o,scale:i}){n(this,"particlesExplotions",[]);n(this,"destroid",!1);n(this,"color");n(this,"velocity");n(this,"opacity");n(this,"width",0);n(this,"height",0);n(this,"image");n(this,"position");this.color=o,this.velocity={x:0,y:0},this.opacity=1,this.position={x:0,y:0},this.image=new Image,this.image.src=e,this.image.onload=()=>{this.width=this.image.width*i,this.height=this.image.height*i,this.position={x:(t==null?void 0:t.x)??R.width/2-this.width/2,y:(t==null?void 0:t.y)??R.height-this.height-20}}}update({velocity:t,opacity:e,dimentions:o}){this.image&&(this.velocity.x=(t==null?void 0:t.x)??this.velocity.x,this.velocity.y=(t==null?void 0:t.y)??this.velocity.y,this.velocity.x&&(this.position.x+=this.velocity.x),this.velocity.y&&(this.position.y+=this.velocity.y),this.opacity=e??this.opacity,this.width=(o==null?void 0:o.w)??this.width,this.height=(o==null?void 0:o.h)??this.height)}getPosition(){return[this.position.x,this.position.y]}getDimentions(){return[this.width,this.height]}getOpacity(){return this.opacity}getImage(){return this.image}getColor(){return this.color}destroyship(){if(this.particlesExplotions.length==0&&!this.destroid){this.destroid=!0;const[t,e]=this.getPosition(),[o,i]=this.getDimentions();for(let s=0;s<10;s++)this.particlesExplotions.push(new ot({position:{x:t+o/2,y:e+i/2},velocity:{x:(Math.random()-.5)*2,y:(Math.random()-.5)*2},radio:Math.random()*3+3,color:this.getColor()}));return this.opacity=0,this.width=0,this.height=0,!1}return this.particlesExplotions.length>0?(this.particlesExplotions.forEach((t,e)=>{t.getOpacity()<=.01?this.particlesExplotions.splice(e,1):t.updateExplotion()}),!1):!0}}const it=document.querySelector("canvas"),st=it.getContext("2d"),M=new Map;M.set("blue",Q);M.set("red",X);M.set("green",_);let D=.28;innerWidth<500&&(D=.2);class rt extends T{constructor({position:t,color:e}){super({position:t,img:M.get(e),color:e,scale:D})}draw(){const[t,e]=super.getPosition(),[o,i]=super.getDimentions();st.drawImage(super.getImage(),t,e,o,i)}shoot(t){const[e,o]=super.getPosition(),[i,s]=super.getDimentions();t.push(new tt({position:{x:e+i/2,y:o+s},velocity:{x:0,y:5},color:super.getColor()}))}updateInvader({velocity:t,opacity:e,dimentions:o}){this.draw(),super.update({velocity:t,opacity:e,dimentions:o})}}const nt=document.querySelector("canvas");class at{constructor(){n(this,"position");n(this,"velocity");n(this,"invaders");n(this,"width");let t=Math.ceil(Math.random()*7+3);innerWidth<500&&(t=Math.ceil(Math.random()+3));let e=Math.ceil(Math.random()*4+2);innerWidth<500&&(e=Math.ceil(Math.random()*2+1));const o=["red","blue","green"],i=Math.floor(Math.random()*3)%3;this.position={x:0,y:0},this.velocity={x:3,y:0},this.invaders=[],this.width=50*t;for(let s=0;s<e;s++)for(let a=0;a<t;a++)this.invaders.push(new rt({position:{x:50*a,y:40*s},color:o[i]}))}update(){this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.velocity.y=0,(this.position.x>=nt.width-this.width||this.position.x<=0)&&(this.velocity.x=-this.velocity.x,this.velocity.y=40)}getInvader(t){return this.invaders[t]}deleteInvader(t){this.invaders.splice(t,1)}getLength(){return this.invaders.length}getAllInvaders(){return this.invaders}getVelocity(){return this.velocity}}const S=document.querySelector("canvas"),u=S.getContext("2d");class ct{constructor(){n(this,"stars",[]);for(let t=0;t<100;t++)this.stars.push(new L({position:{x:Math.random()*S.width,y:Math.random()*S.height},velocity:{x:0,y:1},radio:Math.random()*3,color:"white",fades:!0}))}draw(){for(const t of this.stars){const[e,o]=t.getPosition();u.save(),u.globalAlpha=t.getOpacity(),u.beginPath(),u.arc(e,o,t.getRadio(),0,2*Math.PI),u.fillStyle=t.getColor(),u.fill(),u.closePath(),u.restore()}}updateStar(){this.draw();for(const t of this.stars){const[,e]=t.getPosition(),o=t.getRadio();e-o>=S.height&&(t.updatePosition({x:Math.random()*S.width}),t.updatePosition({y:0})),t.update()}}}const ht=["orangered","violet","crimson"],lt=document.querySelector("canvas"),P=lt.getContext("2d");class $ extends L{constructor({position:t,velocity:e,colorNum:o}){super({position:t,velocity:e,radio:5,color:ht[o]})}draw(){const[t,e]=super.getPosition();P.beginPath(),P.arc(t,e,super.getRadio(),0,2*Math.PI),P.closePath(),P.fillStyle=super.getColor(),P.fill()}updatePlayerProjectile(){this.draw(),super.update()}shootInvader(t){const[e,o]=t.getPosition(),[i,s]=t.getDimentions(),[a,l]=this.getPosition(),h=this.getRadio();return l+this.getRadio()<=0?{shoot:!1,outScreen:!0}:l>=o&&l+2*h<=o+s&&a>=e&&a+2*h<=e+i?{shoot:!0,outScreen:!1}:{shoot:!1,outScreen:!1}}}const dt="/SpaceInvaders/assets/aim-466a63a9.svg",H="/SpaceInvaders/assets/left-arrow-cc66669f.svg",W="/SpaceInvaders/assets/right-arrow-9e9b88f8.svg",ut=(r,t,e,o,i)=>{if(innerWidth<500){if(o)return;if(document.querySelector("#mobil").innerHTML+=`
        <div id="mobil-controllers">
            <div>
                <button><img src=${H}></img></button>
                <button><img src=${W}></img></button>
            </div>
            <button><img src=${dt}></img></button>
        </div>
        `,innerWidth<500){const s=document.querySelectorAll("#mobil button");s[0].addEventListener("touchstart",()=>{i.ArrowLeft=!0}),s[0].addEventListener("touchend",()=>{i.ArrowLeft=!1}),s[1].addEventListener("touchstart",()=>{i.ArrowRight=!0}),s[1].addEventListener("touchend",()=>{i.ArrowRight=!1}),s[2].addEventListener("touchstart",()=>{const[a,l]=r.getPosition(),[h,,]=r.getDimentions();t.push(new $({position:{x:a+h/2,y:l},velocity:{x:0,y:-10},colorNum:e}))})}}addEventListener("keydown",({key:s})=>{const[a,l]=r.getPosition(),[h]=r.getDimentions();if(!o)switch(s){case"a":case"ArrowLeft":i.ArrowLeft=!0;break;case"d":case"ArrowRight":i.ArrowRight=!0;break;case" ":{t.push(new $({position:{x:a+h/2,y:l},velocity:{x:0,y:-10},colorNum:e}));break}}}),addEventListener("keyup",({key:s})=>{switch(s){case"a":case"ArrowLeft":i.ArrowLeft=!1;break;case"d":case"ArrowRight":i.ArrowRight=!1;break}})},b=document.querySelector("canvas"),E=b.getContext("2d"),gt=(r,t)=>{document.querySelector("#app").innerHTML+=`
                    <div id="GO">
                        <h2>Game Over</h2>
                        <p>Your Score is: ${r} </p>
                        <button id="playAgain">Play Again</button>
                        <button id='ship'>Choose Ship</button>
                    </div>
                `,document.getElementById("ship").addEventListener("click",()=>{document.querySelector("#GO").remove(),document.querySelector("#scoreBox").remove(),innerWidth<500&&document.querySelector("#mobil-controllers").remove(),E.clearRect(0,0,b.width,b.height),N()}),document.querySelector("#playAgain").addEventListener("click",()=>{document.querySelector("#GO").remove(),document.querySelector("#scoreBox").remove(),innerWidth<500&&document.querySelector("#mobil-controllers").remove(),E.clearRect(0,0,b.width,b.height),U(t)})},A="/SpaceInvaders/assets/ship1-c6e0c1aa.png",j="/SpaceInvaders/assets/ship2-14f3173b.png",G="/SpaceInvaders/assets/ship3-2e642a9d.png",pt=[A,j,G],yt=["orangered","violet","crimson"],k=document.querySelector("canvas"),v=k.getContext("2d");let B=.3;innerWidth<500&&(B=.2);class vt extends T{constructor(e){super({img:pt[e],color:yt[e],scale:B});n(this,"rotation");this.rotation=0}draw(){const[e,o]=super.getPosition(),[i,s]=super.getDimentions();v.save(),v.globalAlpha=super.getOpacity(),v.translate(e+i/2,o+s/2),v.rotate(this.rotation),v.translate(-e-i/2,-o-s/2),v.drawImage(super.getImage(),e,o,i,s),v.restore()}UpdatePlayer({velocity:e,opacity:o,dimentions:i}){super.update({velocity:e,opacity:o,dimentions:i}),this.draw()}updateRotation(e){this.rotation=e}playerMoveZone(e){const[o]=this.getDimentions(),[i]=this.getPosition();e.ArrowLeft&&i>=0?(this.UpdatePlayer({velocity:{x:-7,y:0}}),this.updateRotation(-.2)):e.ArrowRight&&i<=k.width-o?(this.UpdatePlayer({velocity:{x:7,y:0}}),this.updateRotation(.2)):(this.UpdatePlayer({velocity:{x:0,y:0}}),this.updateRotation(0))}}const m=document.querySelector("canvas"),O=m.getContext("2d");m.width=innerWidth;m.height=innerHeight;innerWidth<500&&(m.height=innerHeight-2*80);const U=r=>{const t={over:!1,active:!0},e={ArrowLeft:!1,ArrowRight:!1},o=new vt(r),i=[];let s=[],a=[];const l=new ct;let h=0,f=Math.ceil(Math.random()*500+400);const g=[];let I=0;document.querySelector("#app").innerHTML+=`
    <div id="scoreBox">Score: <span id="score">${I}</span></div>
    `;const V=document.querySelector("#score");ut(o,i,r,t.over,e);function q(){if(!!t.active){requestAnimationFrame(q),O.fillStyle="black",O.fillRect(0,0,m.width,m.height),l.updateStar(),o.playerMoveZone(e),o.UpdatePlayer({}),a.forEach((c,w)=>{const{shoot:p,outScreen:x}=c.shootPlayer(o);p||x?a.splice(w,1):c.updateInvaderProjectile(),p&&!t.over&&(t.over=!0,g.push(o),setTimeout(()=>{t.active=!1,gt(I,r)},2e3))}),i.forEach((c,w)=>{const[,p]=c.getPosition();p+c.getRadio()<=0?i.splice(w,1):c.updatePlayerProjectile()}),s.forEach((c,w)=>{c.update();const p=c.getLength();h%50==0&&p>0&&c.getInvader(Math.floor(Math.random()*p)).shoot(a),c.getAllInvaders().forEach((x,F)=>{x.updateInvader({velocity:c.getVelocity()}),i.forEach((Z,K)=>{const{shoot:Y}=Z.shootInvader(x);Y&&(i.splice(K,1),g.push(x),c.deleteInvader(F),I+=100,V.innerHTML=String(I))})}),c.getLength()==0&&s.splice(w,1),s.length===0&&(h=f-1)});for(const c in g)g[Number(c)].destroyship()&&g.splice(Number(c),1);h%f==0&&(s.push(new at),f=Math.ceil(Math.random()*500+800),h=0),h++}}q()},N=()=>{document.querySelector("#app").innerHTML+=`
      <div id='selector'>
        <h2>Select your ship:</h2>
        <div class='card'><img src=${A}></img></div>
        <div id='btn-sele'>
          <button><img src=${H}></img></button>
          <button>Play</button>
          <button><img src=${W}></img></button>
        <div/>
      <div/>
  `;let r=0;const t=[A,j,G],e=document.querySelector(".card"),o=document.querySelectorAll("#btn-sele>button");o[0].addEventListener("click",()=>{e.innerHTML=`<img class='shipOutRight' src=${t[r]}></img>`,r==0&&(r=3),r--,e.innerHTML+=`<img class='shipInRight' src=${t[r]}></img>`,setTimeout(()=>{document.querySelector(".shipOutRight").remove()},500)}),o[2].addEventListener("click",()=>{e.innerHTML=`<img class='shipOutLeft' src=${t[r]}></img>`,r=(r+1)%3,e.innerHTML+=`<img class='shipInLeft' src=${t[r]}></img>`,setTimeout(()=>{document.querySelector(".shipOutLeft").remove()},500)}),o[1].addEventListener("click",()=>{document.querySelector("#selector").remove(),U(r)})};N();
